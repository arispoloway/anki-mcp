{
  "transport": "stdio",
  "ankiConnect": {
    "url": "http://127.0.0.1:8765",
    "version": 6
  },
  "sync": {
    "syncIntervalSeconds": 600
  },
  "presets": [
    {
      "name": "search_notes",
      "description": "Search Chinese vocabulary notes using a search term. Searches across hanzi, english, and notes fields. Leave the search empty to browse all vocabulary.",
      "baseQuery": "\"deck:Chinese\"",
      "noteType": "Chinese (Basic)",
      "searchFields": ["Hanzi", "English", "Notes"],
      "searchDescription": "A word or phrase to search for. Matched against hanzi, english, and notes fields. Use this to look up specific characters, words, or meanings — not a query language.",
      "tagFilters": ["word", "sentence"],
      "defaultReturnedFields": ["Hanzi"],
      "optionalReturnedFields": ["Pinyin", "English", "Notes"],
      "optionalReturnedTags": true,
      "defaultLimit": 50,
      "defaultSort": "added_desc",
      "sortOptions": ["added_asc", "added_desc", "modified_asc", "modified_desc"]
    },
    {
      "name": "recently_learned",
      "description": "Get vocabulary the user started learning recently. Defaults to the last 7 days.",
      "baseQuery": "\"deck:Chinese\" introduced:${days}",
      "noteType": "Chinese (Basic)",
      "parameters": {
        "days": {
          "type": "number",
          "description": "How many days back to look",
          "default": 7
        }
      },
      "searchFields": [],
      "tagFilters": ["word", "sentence"],
      "defaultReturnedFields": ["Hanzi"],
      "optionalReturnedFields": ["Pinyin", "English", "Notes"],
      "optionalReturnedTags": true,
      "defaultLimit": 50,
      "defaultSort": "added_desc",
      "sortOptions": ["added_asc", "added_desc", "modified_asc", "modified_desc"]
    },
    {
      "name": "struggling_notes",
      "description": "Get vocabulary the user is struggling with — words they frequently forget or find difficult. Returns review stats (interval, ease, lapses, reps) alongside the vocabulary.",
      "baseQuery": "\"deck:Chinese\" (prop:lapses>3 OR prop:ease<2.0) is:review",
      "noteType": "Chinese (Basic)",
      "searchFields": [],
      "tagFilters": ["word", "sentence"],
      "defaultReturnedFields": ["Hanzi"],
      "optionalReturnedFields": ["Pinyin", "English", "Notes"],
      "optionalReturnedTags": true,
      "includeSchedulingData": true,
      "defaultLimit": 50,
      "defaultSort": "lapses_desc",
      "sortOptions": ["added_asc", "added_desc", "modified_asc", "modified_desc", "lapses_desc", "lapses_asc", "ease_asc", "ease_desc"]
    }
  ],
  "practiceNotes": [
    {
      "name": "practice_note",
      "deckName": "GeneratedPractice",
      "noteType": "Chinese (Basic)",
      "description": "Create a new practice sentence for the user to study. Use this for AI-generated sentences the user hasn't seen before.",
      "fields": [
        { "name": "Hanzi", "description": "Chinese characters", "required": true },
        { "name": "Pinyin", "description": "Pinyin with tone marks", "required": true },
        { "name": "English", "description": "English translation", "required": true },
        { "name": "Notes", "description": "Freeform notes", "required": false }
      ],
      "allowedTags": ["word", "sentence"],
      "defaultTag": "generated"
    },
    {
      "name": "new_word",
      "deckName": "NewWords",
      "noteType": "Chinese (Basic)",
      "description": "Save a new vocabulary word for the user to study. Use this when the user encounters or wants to remember a new word.",
      "fields": [
        { "name": "Hanzi", "description": "Chinese characters", "required": true },
        { "name": "Pinyin", "description": "Pinyin with tone marks", "required": true },
        { "name": "English", "description": "English translation", "required": true },
        { "name": "Notes", "description": "Freeform notes", "required": false }
      ],
      "allowedTags": ["word", "sentence"],
      "rejectDuplicates": "Hanzi",
      "defaultTag": "new"
    }
  ]
}
