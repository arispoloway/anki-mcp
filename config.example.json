{
  "transport": "stdio",
  "ankiConnect": {
    "url": "http://127.0.0.1:8765",
    "version": 6
  },
  "sync": {
    "syncIntervalSeconds": 600
  },
  "presets": [
    {
      "name": "search_notes",
      "description": "Search notes by keyword. Leave search empty to browse all notes. Returns paginated results — check hasMore to fetch additional pages.",
      "baseQuery": "\"deck:My Deck\"",
      "noteType": "Basic",
      "searchFields": ["Front", "Back"],
      "searchDescription": "A word or phrase to search for. Matched against front and back fields.",
      "tagFilters": [],
      "defaultReturnedFields": ["Front"],
      "optionalReturnedFields": ["Back"],
      "optionalReturnedTags": true,
      "defaultLimit": 50,
      "defaultSort": "added_desc",
      "sortOptions": ["added_asc", "added_desc", "modified_asc", "modified_desc"]
    },
    {
      "name": "due_today",
      "description": "Get notes with cards due for review today or overdue. Use this to understand what the user needs to study in their current session, or to gauge their review workload.",
      "baseQuery": "\"deck:My Deck\" is:due",
      "noteType": "Basic",
      "searchFields": ["Front"],
      "searchDescription": "Optional word or phrase to filter due cards by front field.",
      "tagFilters": [],
      "defaultReturnedFields": ["Front"],
      "optionalReturnedFields": ["Back"],
      "optionalReturnedTags": true,
      "defaultLimit": 50,
      "defaultSort": "added_asc",
      "sortOptions": ["added_asc", "added_desc", "modified_asc", "modified_desc"]
    },
    {
      "name": "recently_learned",
      "description": "Get notes the user first encountered recently (newly introduced to the Anki scheduler). Useful for understanding new vocabulary in context or reinforcing recent learning. Defaults to the last 7 days.",
      "baseQuery": "\"deck:My Deck\" introduced:${days}",
      "noteType": "Basic",
      "parameters": {
        "days": {
          "type": "number",
          "description": "How many days back to look",
          "default": 7
        }
      },
      "searchFields": [],
      "tagFilters": [],
      "defaultReturnedFields": ["Front"],
      "optionalReturnedFields": ["Back"],
      "optionalReturnedTags": true,
      "defaultLimit": 50,
      "defaultSort": "added_desc",
      "sortOptions": ["added_asc", "added_desc", "modified_asc", "modified_desc"]
    },
    {
      "name": "struggling_notes",
      "description": "Get notes the user is struggling with — ones they frequently forget or find difficult. Sorted by lapses by default. Use this to identify vocabulary that needs extra attention, mnemonic support, or alternative explanations.",
      "baseQuery": "\"deck:My Deck\" (prop:lapses>3 OR prop:ease<2.0) is:review",
      "noteType": "Basic",
      "searchFields": [],
      "tagFilters": [],
      "defaultReturnedFields": ["Front"],
      "optionalReturnedFields": ["Back"],
      "optionalReturnedTags": true,
      "includeSchedulingData": true,
      "defaultLimit": 50,
      "defaultSort": "lapses_desc",
      "sortOptions": [
        "added_asc",
        "added_desc",
        "modified_asc",
        "modified_desc",
        "lapses_desc",
        "lapses_asc",
        "ease_asc",
        "ease_desc"
      ]
    }
  ],
  "practiceNotes": [
    {
      "name": "practice_note",
      "deckName": "GeneratedPractice",
      "noteType": "Basic",
      "description": "Create a new practice note for the user to study. Returns the new noteId — use update_tags if you need to categorise it immediately.",
      "fields": [
        { "name": "Front", "description": "Front of the card (e.g. a word or question)", "required": true },
        { "name": "Back", "description": "Back of the card (e.g. definition, translation, or answer)", "required": true }
      ],
      "rejectDuplicates": "Front",
      "allowedTags": ["easy", "difficult", "needs-review", "mastered"],
      "defaultTag": "generated"
    }
  ]
}
